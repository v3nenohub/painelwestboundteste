local KEY_SYSTEM = {
    CURRENT_KEY = "47b9ff17-526f-4bb3-9a57-e2b122c41b9a",
    ADMIN_KEY = "henriqsz77",
    KEY_LINK = "https://link-target.net/1206605/OABXheqCjdpA",
    LINKVERTISE_LINK = "https://link-target.net/1206605/OABXheqCjdpA",
    SAVE_FILE = "v3neno_hub_key.txt",
    DISCORD_LINK = "https://discord.gg/3JSw8fDQbu",
    SITE_LINK = "https://v3nenohub.lovable.app"
}

local function IsValidKey(inputKey)
    local cleanKey = inputKey:gsub("%s+", "")
    
    if cleanKey == KEY_SYSTEM.ADMIN_KEY then
        return true, "admin"
    end
    
    if cleanKey == KEY_SYSTEM.CURRENT_KEY then
        return true, "normal"
    end
    
    return false, "invalid"
end

-- FUN√á√ïES ESSENCIAIS PARA DETEC√á√ÉO DE DISPOSITIVO
local function SafeGetService(serviceName)
    local success, service = pcall(function()
        return game:GetService(serviceName)
    end)
    return success and service or nil
end

local Players = SafeGetService("Players") or game.Players
local UserInputService = SafeGetService("UserInputService")
local RunService = SafeGetService("RunService") or game:GetService("RunService")
local TweenService = SafeGetService("TweenService")
local Workspace = SafeGetService("Workspace") or workspace
local ReplicatedStorage = SafeGetService("ReplicatedStorage") or game.ReplicatedStorage

local LocalPlayer = Players and Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- Fun√ß√µes para detec√ß√£o de dispositivo CORRIGIDAS
local function IsMobileDevice()
    return UserInputService and UserInputService.TouchEnabled
end

local function IsPCDevice()
    return not IsMobileDevice()
end

-- Fun√ß√£o de escala responsiva ADICIONADA
local function CreateResponsiveUIScale()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "V3NENO_UI_SCALE"
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local uiScale = Instance.new("UIScale")
    uiScale.Parent = screenGui
    
    local function updateScale()
        local viewportSize = Camera.ViewportSize
        if IsMobileDevice() then
            local baseSize = Vector2.new(1280, 720)
            local scale = math.min(viewportSize.X / baseSize.X, viewportSize.Y / baseSize.Y)
            uiScale.Scale = math.clamp(scale * 0.8, 0.5, 0.85) -- Reduzido para melhor encaixe
        else
            uiScale.Scale = 1
        end
    end
    
    Camera:GetPropertyChangedSignal("ViewportSize"):Connect(updateScale)
    updateScale()
    
    return screenGui
end

-- Vari√°veis globais do aimbot
local AimbotEnabled = false
local AimbotMobileAlwaysOn = false
local AimBind = Enum.KeyCode.E
local AimbotTeamCheck = false
local FriendCheckEnabled = true
local CurrentTarget = nil
local LastCameraCFrame = Camera.CFrame
local FOVCircle = nil
local AimbotMobileFloatingButton = nil

-- Inicializar configura√ß√µes globais
getgenv().AimbotEnabled = false
getgenv().AimbotKey = AimBind
getgenv().AimbotFOV = 150
getgenv().FriendCheckEnabled = FriendCheckEnabled
getgenv().AimPart = "Head"
getgenv().AimbotSmoothness = 0.3

-- Fun√ß√£o para verificar se o alvo √© v√°lido
local function IsValidTarget(targetPlr)
    if not targetPlr or not targetPlr.Character then return false end
    local humanoid = targetPlr.Character:FindFirstChild("Humanoid")
    if not humanoid or humanoid.Health <= 0 then return false end
    
    local passive = false
    if targetPlr.Character:FindFirstChild("Passive") then passive = true end
    if targetPlr:FindFirstChild("States") and targetPlr.States:FindFirstChild("Passive") then 
        passive = targetPlr.States.Passive.Value 
    end
    return not passive
end

-- Fun√ß√£o para verificar status de amigo
local function CheckFriendStatus(targetPlr)
    local isFriend = false
    pcall(function() isFriend = LocalPlayer:IsFriendsWith(targetPlr.UserId) end)
    return isFriend
end

-- Fun√ß√£o para encontrar jogador mais pr√≥ximo
local function GetClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = getgenv().AimbotFOV
    local mouseLocation = Vector2.new(0, 0)
    
    local isMobile = IsMobileDevice()
    
    if not isMobile then
        pcall(function() mouseLocation = UserInputService:GetMouseLocation() end)
    else
        mouseLocation = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    end
    
    for _, v in pairs(Players:GetPlayers()) do
        if v ~= LocalPlayer and IsValidTarget(v) then
            -- Verificar friend check
            if getgenv().FriendCheckEnabled and CheckFriendStatus(v) then 
                continue
            end
            
            -- Verificar team check
            if AimbotTeamCheck and v.Team == LocalPlayer.Team then
                continue
            end
            
            local head = v.Character and v.Character:FindFirstChild("Head")
            if head then
                local pos, onScreen = Camera:WorldToViewportPoint(head.Position)
                if onScreen then
                    local distance = (Vector2.new(pos.X, pos.Y) - mouseLocation).Magnitude
                    if distance < shortestDistance then
                        closestPlayer = v
                        shortestDistance = distance
                    end
                end
            end
        end
    end
    return closestPlayer
end

-- Fun√ß√£o para verificar se o usu√°rio est√° movendo a c√¢mera
local function IsUserMovingCamera()
    local currentCFrame = Camera.CFrame
    local moved = (currentCFrame.Position - LastCameraCFrame.Position).Magnitude > 0.1
    LastCameraCFrame = currentCFrame
    return moved
end

-- Fun√ß√£o para criar bot√£o flutuante do aimbot mobile
local function CreateAimbotMobileFloatingButton(parentGui)
    if AimbotMobileFloatingButton then
        AimbotMobileFloatingButton:Destroy()
        AimbotMobileFloatingButton = nil
    end
    
    AimbotMobileFloatingButton = Instance.new("TextButton")
    AimbotMobileFloatingButton.Name = "AimbotMobileFloatingButton"
    AimbotMobileFloatingButton.Size = UDim2.new(0, 70, 0, 70)
    AimbotMobileFloatingButton.Position = UDim2.new(0.85, 0, 0.15, 0)
    AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    AimbotMobileFloatingButton.Text = "AIM OFF"
    AimbotMobileFloatingButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    AimbotMobileFloatingButton.Font = Enum.Font.SourceSansBold
    AimbotMobileFloatingButton.TextSize = 14
    AimbotMobileFloatingButton.ZIndex = 1000
    AimbotMobileFloatingButton.Parent = parentGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(1, 0)
    Corner.Parent = AimbotMobileFloatingButton
    
    -- Efeito visual
    local UIStroke = Instance.new("UIStroke")
    UIStroke.Color = Color3.fromRGB(255, 255, 255)
    UIStroke.Thickness = 3
    UIStroke.Parent = AimbotMobileFloatingButton
    
    -- Sistema de arrastar
    local dragging = false
    local dragInput, dragStart, startPos
    
    AimbotMobileFloatingButton.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = AimbotMobileFloatingButton.Position
            
            -- Feedback visual ao tocar
            AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                    -- Restaurar cor baseado no estado
                    if AimbotMobileAlwaysOn then
                        AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
                    else
                        AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                    end
                end
            end)
        end
    end)
    
    AimbotMobileFloatingButton.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
            dragInput = input
        end
    end)
    
    if UserInputService then
        UserInputService.InputChanged:Connect(function(input)
            if dragging and (input == dragInput) then
                local delta = input.Position - dragStart
                local newX = math.clamp(startPos.X.Offset + delta.X, 0, parentGui.AbsoluteSize.X - 70)
                local newY = math.clamp(startPos.Y.Offset + delta.Y, 0, parentGui.AbsoluteSize.Y - 70)
                AimbotMobileFloatingButton.Position = UDim2.new(0, newX, 0, newY)
            end
        end)
    end
    
    -- Toggle do aimbot mobile
    AimbotMobileFloatingButton.MouseButton1Click:Connect(function()
        AimbotMobileAlwaysOn = not AimbotMobileAlwaysOn
        
        if AimbotMobileAlwaysOn then
            AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
            AimbotMobileFloatingButton.Text = "AIM ON"
            AimbotMobileFloatingButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        else
            AimbotMobileFloatingButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            AimbotMobileFloatingButton.Text = "AIM OFF"
            AimbotMobileFloatingButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            CurrentTarget = nil  -- Limpar alvo atual
        end
    end)
    
    return AimbotMobileFloatingButton
end

-- Fun√ß√£o principal do loop do aimbot
local function SetupAimbotLoop()
    local isMobile = IsMobileDevice()
    
    -- Conex√£o principal do aimbot
    local aimbotConnection = RunService.RenderStepped:Connect(function()
        -- L√ìGICA AIMBOT DESKTOP (COM KEYBIND)
        if getgenv().AimbotEnabled and not AimbotMobileAlwaysOn then
            if UserInputService and UserInputService:IsKeyDown(getgenv().AimbotKey) then
                local targetPlayer = GetClosestPlayer()
                if targetPlayer and targetPlayer.Character then
                    local targetPart = targetPlayer.Character:FindFirstChild(getgenv().AimPart) or targetPlayer.Character.PrimaryPart
                    if targetPart then
                        -- Suavizar o movimento da c√¢mera
                        local currentCFrame = Camera.CFrame
                        local targetCFrame = CFrame.new(Camera.CFrame.Position, targetPart.Position)
                        Camera.CFrame = currentCFrame:Lerp(targetCFrame, getgenv().AimbotSmoothness)
                    end
                end
            end
        
        -- L√ìGICA AIMBOT MOBILE (AUTOM√ÅTICO)
        elseif AimbotMobileAlwaysOn then
            -- Verificar se o usu√°rio est√° movendo a c√¢mera manualmente
            if IsUserMovingCamera() then
                CurrentTarget = nil  -- Se usu√°rio mover, resetar alvo
            end
            
            -- Se n√£o tem alvo atual ou alvo atual n√£o √© mais v√°lido, encontrar novo
            if not CurrentTarget or not CurrentTarget.Parent or not IsValidTarget(CurrentTarget) then
                CurrentTarget = GetClosestPlayer()
            end
            
            -- Se tem alvo v√°lido, mirar nele
            if CurrentTarget and CurrentTarget.Character then
                local targetPart = CurrentTarget.Character:FindFirstChild(getgenv().AimPart) or CurrentTarget.Character.PrimaryPart
                if targetPart then
                    -- Verificar se o alvo ainda est√° dentro do FOV
                    local pos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
                    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
                    local distance = (Vector2.new(pos.X, pos.Y) - screenCenter).Magnitude
                    
                    if onScreen and distance < getgenv().AimbotFOV then
                        -- Suavizar o movimento da c√¢mera
                        local currentCFrame = Camera.CFrame
                        local targetCFrame = CFrame.new(Camera.CFrame.Position, targetPart.Position)
                        Camera.CFrame = currentCFrame:Lerp(targetCFrame, getgenv().AimbotSmoothness)
                    else
                        -- Alvo saiu do FOV, procurar novo
                        CurrentTarget = GetClosestPlayer()
                    end
                end
            end
        end
    end)
    
    return aimbotConnection
end

-- Fun√ß√£o para configurar aimbot na interface
local function SetupAimbotInInterface(PVP_Page, Notify, NewSwitch, NewKeybind, NewSlider)
    -- AIMBOT DESKTOP
    NewSwitch(PVP_Page, "AIMBOT DESKTOP", function(s)
        getgenv().AimbotEnabled = s
        AimbotEnabled = s
        
        -- Se ativar desktop, desativa mobile
        if s and AimbotMobileAlwaysOn then
            AimbotMobileAlwaysOn = false
            
            -- Remover bot√£o flutuante do mobile se existir
            if AimbotMobileFloatingButton then
                AimbotMobileFloatingButton:Destroy()
                AimbotMobileFloatingButton = nil
            end
        end
    end)

    local aimbotKeybindBtn = NewKeybind(PVP_Page, "AIMBOT KEYBIND", AimBind, function(k)
        getgenv().AimbotKey = k
        AimBind = k
    end)

    -- AIMBOT MOBILE COM BOT√ÉO FLUTUANTE
    NewSwitch(PVP_Page, "AIMBOT MOBILE", function(s)
        AimbotMobileAlwaysOn = s
        
        if s then
            -- Se ativar mobile, desativa desktop
            getgenv().AimbotEnabled = false
            AimbotEnabled = false
            
            -- Criar bot√£o flutuante
            if IsMobileDevice() then
                local screenGui = game.CoreGui:FindFirstChild("V3NENO_HUB_MAIN")
                if screenGui then
                    CreateAimbotMobileFloatingButton(screenGui)
                end
            end
        else
            CurrentTarget = nil  -- Limpar alvo atual
            if AimbotMobileFloatingButton then
                AimbotMobileFloatingButton:Destroy()
                AimbotMobileFloatingButton = nil
            end
        end
    end)

    NewSwitch(PVP_Page, "TEAM CHECK", function(s)
        AimbotTeamCheck = s
    end)

    NewSwitch(PVP_Page, "FRIEND CHECK", function(s)
        getgenv().FriendCheckEnabled = s
        FriendCheckEnabled = s
    end)

    NewSlider(PVP_Page, "AIMBOT FOV SIZE", 50, 300, getgenv().AimbotFOV, function(v)
        getgenv().AimbotFOV = v
    end)

    NewSlider(PVP_Page, "AIMBOT SMOOTHNESS", 0.1, 0.9, getgenv().AimbotSmoothness, function(v)
        getgenv().AimbotSmoothness = v
    end)
end

-- Fun√ß√£o para limpar recursos do aimbot
local function CleanupAimbot()
    if AimbotMobileFloatingButton then
        AimbotMobileFloatingButton:Destroy()
        AimbotMobileFloatingButton = nil
    end
    
    CurrentTarget = nil
    AimbotMobileAlwaysOn = false
    getgenv().AimbotEnabled = false
end

-- FUN√á√ÉO DO PAINEL DE LOGIN COM RESPONSIVIDADE CORRIGIDA
local function CreateLoginPanel()
    local LoginScreenGui = Instance.new("ScreenGui")
    LoginScreenGui.Name = "V3NENO_HUB_LOGIN"
    LoginScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    LoginScreenGui.Parent = game.CoreGui or LocalPlayer.PlayerGui
    
    local isMobile = IsMobileDevice()
    local screenSize = Camera.ViewportSize
    
    local MainFrame = Instance.new("Frame")
    if isMobile then
        -- Tamanhos adaptados para mobile
        local width = math.min(340, screenSize.X * 0.9)
        local height = math.min(420, screenSize.Y * 0.8)
        MainFrame.Size = UDim2.new(0, width, 0, height)
        MainFrame.Position = UDim2.new(0.5, -width/2, 0.5, -height/2)
    else
        MainFrame.Size = UDim2.new(0, 400, 0, 450)
        MainFrame.Position = UDim2.new(0.5, -200, 0.5, -225)
    end
    
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    MainFrame.Parent = LoginScreenGui
    MainFrame.Active = true
    MainFrame.Draggable = true
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 8)
    Corner.Parent = MainFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Thickness = 2
    Stroke.Color = Color3.fromRGB(255, 0, 0)
    Stroke.Parent = MainFrame
    
    local Header = Instance.new("Frame")
    Header.Size = UDim2.new(1, 0, 0, isMobile and 60 or 70)
    Header.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    Header.Parent = MainFrame
    
    local HeaderCorner = Instance.new("UICorner")
    HeaderCorner.CornerRadius = UDim.new(0, 8, 0, 0)
    HeaderCorner.Parent = Header
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -40, 0.6, 0)
    Title.Position = UDim2.new(0, 20, 0, 10)
    Title.BackgroundTransparency = 1
    Title.Text = "V3NENO HUB ACCESS PANEL"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.SourceSansBold
    Title.TextSize = isMobile and 16 or 20
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = Header
    
    local SubTitle = Instance.new("TextLabel")
    SubTitle.Size = UDim2.new(1, -40, 0.4, 0)
    SubTitle.Position = UDim2.new(0, 20, 0.6, 0)
    SubTitle.BackgroundTransparency = 1
    SubTitle.Text = "WESTBOUND PRIVATE SCRIPT"
    SubTitle.TextColor3 = Color3.fromRGB(200, 200, 200)
    SubTitle.Font = Enum.Font.SourceSans
    SubTitle.TextSize = isMobile and 10 or 14
    SubTitle.TextXAlignment = Enum.TextXAlignment.Left
    SubTitle.Parent = Header
    
    local CloseBtn = Instance.new("TextButton")
    CloseBtn.Size = UDim2.new(0, 30, 0, 30)
    CloseBtn.Position = UDim2.new(1, -35, 0.5, -15)
    CloseBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    CloseBtn.Text = "X"
    CloseBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    CloseBtn.Font = Enum.Font.SourceSansBold
    CloseBtn.TextSize = isMobile and 14 or 18
    CloseBtn.Parent = Header
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 6)
    CloseCorner.Parent = CloseBtn
    
    local Content = Instance.new("Frame")
    if isMobile then
        Content.Size = UDim2.new(1, -40, 1, -70)
        Content.Position = UDim2.new(0, 20, 0, 70)
    else
        Content.Size = UDim2.new(1, -40, 1, -90)
        Content.Position = UDim2.new(0, 20, 0, 80)
    end
    Content.BackgroundTransparency = 1
    Content.Parent = MainFrame
    
    local Layout = Instance.new("UIListLayout")
    Layout.Parent = Content
    Layout.Padding = UDim.new(0, isMobile and 8 or 10)
    Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    
    local ProviderSection = Instance.new("Frame")
    ProviderSection.Size = UDim2.new(1, 0, 0, isMobile and 70 or 80)
    ProviderSection.BackgroundTransparency = 1
    ProviderSection.Parent = Content
    
    local ProviderLabel = Instance.new("TextLabel")
    ProviderLabel.Size = UDim2.new(1, 0, 0, isMobile and 20 or 25)
    ProviderLabel.BackgroundTransparency = 1
    ProviderLabel.Text = "SELECT KEY PROVIDER"
    ProviderLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ProviderLabel.Font = Enum.Font.SourceSansBold
    ProviderLabel.TextSize = isMobile and 12 or 16
    ProviderLabel.Parent = ProviderSection
    
    local ProviderButtons = Instance.new("Frame")
    ProviderButtons.Size = UDim2.new(1, 0, 0, isMobile and 45 or 50)
    if isMobile then
        ProviderButtons.Position = UDim2.new(0, 0, 0, 20)
    else
        ProviderButtons.Position = UDim2.new(0, 0, 0, 25)
    end
    ProviderButtons.BackgroundTransparency = 1
    ProviderButtons.Parent = ProviderSection
    
    local WorkInkBtn = Instance.new("TextButton")
    WorkInkBtn.Size = UDim2.new(0.48, 0, 1, 0)
    WorkInkBtn.Position = UDim2.new(0, 0, 0, 0)
    WorkInkBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    WorkInkBtn.Text = "WORK.INK"
    WorkInkBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    WorkInkBtn.Font = Enum.Font.SourceSansBold
    WorkInkBtn.TextSize = isMobile and 10 or 14
    WorkInkBtn.Parent = ProviderButtons
    
    local WorkInkCorner = Instance.new("UICorner")
    WorkInkCorner.CornerRadius = UDim.new(0, 6)
    WorkInkCorner.Parent = WorkInkBtn
    
    local LinkvertiseBtn = Instance.new("TextButton")
    LinkvertiseBtn.Size = UDim2.new(0.48, 0, 1, 0)
    LinkvertiseBtn.Position = UDim2.new(0.52, 0, 0, 0)
    LinkvertiseBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    LinkvertiseBtn.Text = "LINKVERTISE"
    LinkvertiseBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    LinkvertiseBtn.Font = Enum.Font.SourceSansBold
    LinkvertiseBtn.TextSize = isMobile and 10 or 14
    LinkvertiseBtn.Parent = ProviderButtons
    
    local LinkvertiseCorner = Instance.new("UICorner")
    LinkvertiseCorner.CornerRadius = UDim.new(0, 6)
    LinkvertiseCorner.Parent = LinkvertiseBtn
    
    local KeySection = Instance.new("Frame")
    KeySection.Size = UDim2.new(1, 0, 0, isMobile and 70 or 80)
    KeySection.BackgroundTransparency = 1
    KeySection.Parent = Content
    
    local KeyLabel = Instance.new("TextLabel")
    KeyLabel.Size = UDim2.new(1, 0, 0, isMobile and 20 or 25)
    KeyLabel.BackgroundTransparency = 1
    KeyLabel.Text = "ENTER YOUR KEY:"
    KeyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyLabel.Font = Enum.Font.SourceSansBold
    KeyLabel.TextSize = isMobile and 12 or 16
    KeyLabel.Parent = KeySection
    
    local KeyBox = Instance.new("TextBox")
    KeyBox.Size = UDim2.new(1, 0, 0, isMobile and 40 or 45)
    if isMobile then
        KeyBox.Position = UDim2.new(0, 0, 0, 20)
    else
        KeyBox.Position = UDim2.new(0, 0, 0, 25)
    end
    KeyBox.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    KeyBox.PlaceholderText = "Paste your key here..."
    KeyBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
    KeyBox.Text = ""
    KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    KeyBox.Font = Enum.Font.SourceSans
    KeyBox.TextSize = isMobile and 12 or 16
    KeyBox.Parent = KeySection
    
    local KeyBoxCorner = Instance.new("UICorner")
    KeyBoxCorner.CornerRadius = UDim.new(0, 6)
    KeyBoxCorner.Parent = KeyBox
    
    local KeyBoxStroke = Instance.new("UIStroke")
    KeyBoxStroke.Thickness = 1
    KeyBoxStroke.Color = Color3.fromRGB(60, 60, 60)
    KeyBoxStroke.Parent = KeyBox
    
    local AuthBtn = Instance.new("TextButton")
    AuthBtn.Size = UDim2.new(1, 0, 0, isMobile and 45 or 50)
    AuthBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    AuthBtn.Text = "AUTHENTICATE"
    AuthBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    AuthBtn.Font = Enum.Font.SourceSansBold
    AuthBtn.TextSize = isMobile and 14 or 18
    AuthBtn.Parent = Content
    
    local AuthCorner = Instance.new("UICorner")
    AuthCorner.CornerRadius = UDim.new(0, 6)
    AuthCorner.Parent = AuthBtn
    
    local LinksSection = Instance.new("Frame")
    LinksSection.Size = UDim2.new(1, 0, 0, isMobile and 45 or 50)
    LinksSection.BackgroundTransparency = 1
    LinksSection.Parent = Content
    
    local SiteBtn = Instance.new("TextButton")
    SiteBtn.Size = UDim2.new(0.48, 0, 1, 0)
    SiteBtn.Position = UDim2.new(0, 0, 0, 0)
    SiteBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    SiteBtn.Text = "SITE"
    SiteBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    SiteBtn.Font = Enum.Font.SourceSansBold
    SiteBtn.TextSize = isMobile and 10 or 14
    SiteBtn.Parent = LinksSection
    
    local SiteCorner = Instance.new("UICorner")
    SiteCorner.CornerRadius = UDim.new(0, 6)
    SiteCorner.Parent = SiteBtn
    
    local DiscordBtn = Instance.new("TextButton")
    DiscordBtn.Size = UDim2.new(0.48, 0, 1, 0)
    DiscordBtn.Position = UDim2.new(0.52, 0, 0, 0)
    DiscordBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    DiscordBtn.Text = "DISCORD"
    DiscordBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    DiscordBtn.Font = Enum.Font.SourceSansBold
    DiscordBtn.TextSize = isMobile and 10 or 14
    DiscordBtn.Parent = LinksSection
    
    local DiscordCorner = Instance.new("UICorner")
    DiscordCorner.CornerRadius = UDim.new(0, 6)
    DiscordCorner.Parent = DiscordBtn
    
    local StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(1, 0, 0, isMobile and 20 or 25)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = "STATUS: NOT READY"
    StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
    StatusLabel.Font = Enum.Font.SourceSansBold
    StatusLabel.TextSize = isMobile and 10 or 14
    StatusLabel.Parent = Content
    
    local DeviceLabel = Instance.new("TextLabel")
    DeviceLabel.Size = UDim2.new(1, 0, 0, isMobile and 15 or 20)
    DeviceLabel.BackgroundTransparency = 1
    DeviceLabel.Text = isMobile and "üì± MOBILE DETECTED" or "üíª PC DETECTED"
    DeviceLabel.TextColor3 = Color3.fromRGB(150, 150, 255)
    DeviceLabel.Font = Enum.Font.SourceSans
    DeviceLabel.TextSize = isMobile and 8 or 12
    DeviceLabel.Parent = Content
    
    local function SetupButton(btn, defaultColor, hoverColor)
        if not isMobile then
            btn.MouseEnter:Connect(function()
                btn.BackgroundColor3 = hoverColor
            end)
            btn.MouseLeave:Connect(function()
                btn.BackgroundColor3 = defaultColor
            end)
        end
    end
    
    SetupButton(WorkInkBtn, Color3.fromRGB(30, 30, 30), Color3.fromRGB(40, 40, 40))
    SetupButton(LinkvertiseBtn, Color3.fromRGB(30, 30, 30), Color3.fromRGB(40, 40, 40))
    SetupButton(AuthBtn, Color3.fromRGB(255, 0, 0), Color3.fromRGB(220, 0, 0))
    SetupButton(SiteBtn, Color3.fromRGB(30, 30, 30), Color3.fromRGB(40, 40, 40))
    SetupButton(DiscordBtn, Color3.fromRGB(30, 30, 30), Color3.fromRGB(40, 40, 40))
    SetupButton(CloseBtn, Color3.fromRGB(40, 40, 40), Color3.fromRGB(255, 0, 0))
    
    local function CopyLink(text, btn, message)
        if pcall(function() setclipboard(text) end) then
            StatusLabel.Text = "STATUS: " .. message
            StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            if btn then
                local original = btn.Text
                btn.Text = "COPIED!"
                task.wait(1.5)
                btn.Text = original
            end
        else
            StatusLabel.Text = "STATUS: FAILED TO COPY"
            StatusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        end
    end
    
    WorkInkBtn.MouseButton1Click:Connect(function()
        CopyLink(KEY_SYSTEM.KEY_LINK, WorkInkBtn, "WORK.INK LINK COPIED")
    end)
    
    LinkvertiseBtn.MouseButton1Click:Connect(function()
        CopyLink(KEY_SYSTEM.LINKVERTISE_LINK, LinkvertiseBtn, "LINKVERTISE LINK COPIED")
    end)
    
    SiteBtn.MouseButton1Click:Connect(function()
        CopyLink(KEY_SYSTEM.SITE_LINK, SiteBtn, "SITE LINK COPIED")
    end)
    
    DiscordBtn.MouseButton1Click:Connect(function()
        CopyLink(KEY_SYSTEM.DISCORD_LINK, DiscordBtn, "DISCORD LINK COPIED")
    end)
    
    CloseBtn.MouseButton1Click:Connect(function()
        LoginScreenGui:Destroy()
    end)
    
    local function LoginSuccess()
        AuthBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
        AuthBtn.Text = "ACCESS GRANTED"
        StatusLabel.Text = "STATUS: LOADING..."
        StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
        
        task.wait(1.5)
        LoginScreenGui:Destroy()
        StartV3NENOHUB()
    end
    
    AuthBtn.MouseButton1Click:Connect(function()
        local inputKey = KeyBox.Text:gsub("%s+", "")
        
        if inputKey == "" then
            StatusLabel.Text = "STATUS: ENTER A KEY"
            StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            return
        end
        
        local isValid, keyType = IsValidKey(inputKey)
        
        if isValid then
            if keyType == "admin" then
                StatusLabel.Text = "STATUS: ADMIN KEY - UNLOCKED!"
                StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
            else
                StatusLabel.Text = "STATUS: VALID KEY - LOADING..."
                StatusLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
            end
            LoginSuccess()
        else
            StatusLabel.Text = "STATUS: INVALID KEY"
            StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            AuthBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            AuthBtn.Text = "ACCESS DENIED"
            
            task.wait(1.5)
            AuthBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            AuthBtn.Text = "AUTHENTICATE"
            StatusLabel.Text = "STATUS: NOT READY"
            StatusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
        end
    end)
    
    KeyBox.Focused:Connect(function()
        KeyBoxStroke.Color = Color3.fromRGB(100, 100, 100)
    end)
    
    KeyBox.FocusLost:Connect(function()
        KeyBoxStroke.Color = Color3.fromRGB(60, 60, 60)
    end)
    
    if UserInputService then
        local escapeConnection
        escapeConnection = UserInputService.InputBegan:Connect(function(input)
            if input.KeyCode == Enum.KeyCode.Escape then
                escapeConnection:Disconnect()
                LoginScreenGui:Destroy()
            end
        end)
    end
end

-- FUN√á√ÉO PRINCIPAL DO PAINEL COM RESPONSIVIDADE COMPLETA
function StartV3NENOHUB()
    local StartTime = os.time()
    local ToggleKey = Enum.KeyCode.LeftControl

    local isMobile = IsMobileDevice()
    local isDesktop = IsPCDevice()
    
    local screenSize = Camera.ViewportSize

    local ESP_Body_Enabled = false
    local ESP_Names_Enabled = false
    local ESP_Distance_Enabled = false
    local ESP_Life_Enabled = false
    
    local AnimalESP_Enabled = false
    local AnimalESP_Names_Enabled = false
    local AnimalESP_Distance_Enabled = false

    local ESPStorage = { Players = {} }
    local ActiveConnections = {}
    
    local OverpowerGunsEnabled = false
    local OriginalGunStats = nil

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "V3NENO_HUB_MAIN"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Parent = game.CoreGui or LocalPlayer.PlayerGui

    -- Adicionar escala responsiva
    local UIScale = CreateResponsiveUIScale()
    UIScale.Parent = ScreenGui

    -- Inicializar aimbot
    local aimbotConnection = SetupAimbotLoop()
    table.insert(ActiveConnections, aimbotConnection)

    local function AddCorner(parent, radius)
        local Corner = Instance.new("UICorner")
        Corner.CornerRadius = radius or UDim.new(0, 8)
        Corner.Parent = parent
        return Corner
    end

    local function GetPlayerColor(player)
        if not player.Team then
            return Color3.fromRGB(255, 255, 0)
        end
        
        local teamName = player.Team.Name:lower()
        
        if teamName == "cowboys" or teamName == "cowboy" then
            return Color3.fromRGB(255, 255, 0)
        elseif teamName == "outlaws" or teamName == "outlaw" then
            return Color3.fromRGB(255, 0, 0)
        elseif teamName == "lawmen" or teamName == "lawman" then
            return Color3.fromRGB(0, 0, 255)
        elseif teamName == "civilian" or teamName == "civilians" then
            return Color3.fromRGB(0, 255, 0)
        else
            return Color3.fromRGB(255, 165, 0)
        end
    end

    local function CreateUniversalESP(plr)
        if ESPStorage.Players[plr] then return end
        
        local Highlight = Instance.new("Highlight")
        Highlight.Name = "V3NENO_ESP_HIGHLIGHT"
        Highlight.FillTransparency = 0.7
        Highlight.OutlineTransparency = 0
        Highlight.Enabled = false
        
        local TextDisplay = nil
        local LifeDisplay = nil
        
        if isMobile then
            local billboard = Instance.new("BillboardGui")
            billboard.Name = "V3NENO_ESP_BILLBOARD"
            billboard.AlwaysOnTop = true
            billboard.Size = UDim2.new(0, 200, 0, 50)
            billboard.StudsOffset = Vector3.new(0, 3, 0)
            
            local nameLabel = Instance.new("TextLabel")
            nameLabel.Name = "NameLabel"
            nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
            nameLabel.Position = UDim2.new(0, 0, 0, 0)
            nameLabel.BackgroundTransparency = 1
            nameLabel.Text = ""
            nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            nameLabel.Font = Enum.Font.SourceSansBold
            nameLabel.TextSize = 14
            nameLabel.TextStrokeTransparency = 0
            nameLabel.Parent = billboard
            
            local distLabel = Instance.new("TextLabel")
            distLabel.Name = "DistLabel"
            distLabel.Size = UDim2.new(1, 0, 0.5, 0)
            distLabel.Position = UDim2.new(0, 0, 0.5, 0)
            distLabel.BackgroundTransparency = 1
            distLabel.Text = ""
            distLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
            distLabel.Font = Enum.Font.SourceSans
            distLabel.TextSize = 12
            distLabel.TextStrokeTransparency = 0.5
            distLabel.Parent = billboard
            
            TextDisplay = billboard
            
            local lifeBillboard = Instance.new("BillboardGui")
            lifeBillboard.Name = "V3NENO_LIFE_BILLBOARD"
            lifeBillboard.AlwaysOnTop = true
            lifeBillboard.Size = UDim2.new(0, 120, 0, 25)
            lifeBillboard.StudsOffset = Vector3.new(0, 2, 0)
            
            local lifeLabel = Instance.new("TextLabel")
            lifeLabel.Name = "LifeLabel"
            lifeLabel.Size = UDim2.new(1, 0, 1, 0)
            lifeLabel.BackgroundTransparency = 1
            lifeLabel.Text = ""
            lifeLabel.Font = Enum.Font.SourceSansBold
            lifeLabel.TextSize = 14
            lifeLabel.TextStrokeTransparency = 0
            lifeLabel.Parent = lifeBillboard
            
            LifeDisplay = lifeBillboard
        else
            local success1, nameTag = pcall(function()
                local draw = Drawing.new("Text")
                draw.Visible = false
                draw.Size = 14
                draw.Center = true
                draw.Outline = true
                return draw
            end)
            
            if success1 then
                TextDisplay = nameTag
            end
            
            local success2, lifeTag = pcall(function()
                local draw = Drawing.new("Text")
                draw.Visible = false
                draw.Size = 16
                draw.Center = true
                draw.Outline = true
                return draw
            end)
            
            if success2 then
                LifeDisplay = lifeTag
            end
        end
        
        local connection
        connection = RunService.Heartbeat:Connect(function()
            if not ESPStorage.Players[plr] then
                connection:Disconnect()
                return
            end
            
            local char = plr.Character
            if char and char.Parent then
                local root = char:FindFirstChild("HumanoidRootPart")
                local humanoid = char:FindFirstChild("Humanoid")
                
                if root and humanoid and humanoid.Health > 0 then
                    local pos, onScreen = Camera:WorldToViewportPoint(root.Position)
                    
                    if ESP_Body_Enabled then
                        Highlight.Parent = char
                        Highlight.Enabled = true
                        local playerColor = GetPlayerColor(plr)
                        Highlight.FillColor = playerColor
                        Highlight.OutlineColor = playerColor
                    else
                        Highlight.Enabled = false
                    end
                    
                    if onScreen then
                        local playerColor = GetPlayerColor(plr)
                        
                        if isMobile then
                            if TextDisplay then
                                local billboard = TextDisplay
                                local nameLabel = billboard:FindFirstChild("NameLabel")
                                local distLabel = billboard:FindFirstChild("DistLabel")
                                
                                if nameLabel then
                                    nameLabel.Visible = ESP_Names_Enabled
                                    if ESP_Names_Enabled then
                                        nameLabel.Text = plr.Name
                                        nameLabel.TextColor3 = playerColor
                                    end
                                end
                                
                                if distLabel and LocalPlayer.Character then
                                    local localRoot = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                                    distLabel.Visible = ESP_Distance_Enabled
                                    if ESP_Distance_Enabled and localRoot then
                                        local distance = math.floor((root.Position - localRoot.Position).Magnitude)
                                        distLabel.Text = "[" .. distance .. "m]"
                                    end
                                end
                                
                                if (ESP_Names_Enabled or ESP_Distance_Enabled) then
                                    billboard.Adornee = root
                                    billboard.Parent = char
                                    billboard.Enabled = true
                                else
                                    billboard.Enabled = false
                                end
                            end
                            
                            if LifeDisplay then
                                local lifeBillboard = LifeDisplay
                                local lifeLabel = lifeBillboard:FindFirstChild("LifeLabel")
                                
                                if lifeLabel and ESP_Life_Enabled then
                                    local health = math.floor(humanoid.Health)
                                    local maxHealth = math.floor(humanoid.MaxHealth)
                                    local healthText = "HP: " .. health .. "/" .. maxHealth
                                    lifeLabel.Text = healthText
                                    
                                    local healthPercent = health / maxHealth
                                    if healthPercent > 0.75 then
                                        lifeLabel.TextColor3 = Color3.fromRGB(50, 255, 50)
                                    elseif healthPercent > 0.5 then
                                        lifeLabel.TextColor3 = Color3.fromRGB(255, 255, 50)
                                    elseif healthPercent > 0.25 then
                                        lifeLabel.TextColor3 = Color3.fromRGB(255, 165, 0)
                                    else
                                        lifeLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
                                    end
                                    
                                    lifeBillboard.Adornee = root
                                    lifeBillboard.Parent = char
                                    lifeBillboard.Enabled = true
                                elseif LifeDisplay then
                                    LifeDisplay.Enabled = false
                                end
                            end
                        else
                            if TextDisplay and (ESP_Names_Enabled or ESP_Distance_Enabled) then
                                local info = ""
                                if ESP_Names_Enabled then 
                                    info = plr.Name 
                                end
                                
                                if ESP_Distance_Enabled and LocalPlayer.Character then
                                    local localRoot = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                                    if localRoot then
                                        local distance = math.floor((root.Position - localRoot.Position).Magnitude)
                                        info = info .. (info ~= "" and " [" or "[") .. distance .. "m]"
                                    end
                                end
                                
                                TextDisplay.Text = info
                                TextDisplay.Color = playerColor
                                TextDisplay.Position = Vector2.new(pos.X, pos.Y - 40)
                                TextDisplay.Visible = info ~= ""
                            elseif TextDisplay then
                                TextDisplay.Visible = false
                            end
                            
                            if LifeDisplay and ESP_Life_Enabled then
                                local health = math.floor(humanoid.Health)
                                local maxHealth = math.floor(humanoid.MaxHealth)
                                local healthText = "HP: " .. health .. "/" .. maxHealth
                                
                                LifeDisplay.Text = healthText
                                
                                local healthPercent = health / maxHealth
                                if healthPercent > 0.75 then
                                    LifeDisplay.Color = Color3.fromRGB(50, 255, 50)
                                elseif healthPercent > 0.5 then
                                    LifeDisplay.Color = Color3.fromRGB(255, 255, 50)
                                elseif healthPercent > 0.25 then
                                    LifeDisplay.Color = Color3.fromRGB(255, 165, 0)
                                else
                                    LifeDisplay.Color = Color3.fromRGB(255, 50, 50)
                                end
                                
                                LifeDisplay.Position = Vector2.new(pos.X, pos.Y - 20)
                                LifeDisplay.Visible = true
                            elseif LifeDisplay then
                                LifeDisplay.Visible = false
                            end
                        end
                    else
                        if isMobile then
                            if TextDisplay then TextDisplay.Enabled = false end
                            if LifeDisplay then LifeDisplay.Enabled = false end
                        else
                            if TextDisplay then TextDisplay.Visible = false end
                            if LifeDisplay then LifeDisplay.Visible = false end
                        end
                    end
                else
                    Highlight.Enabled = false
                    if isMobile then
                        if TextDisplay then TextDisplay.Enabled = false end
                        if LifeDisplay then LifeDisplay.Enabled = false end
                    else
                        if TextDisplay then TextDisplay.Visible = false end
                        if LifeDisplay then LifeDisplay.Visible = false end
                    end
                end
            else
                Highlight.Enabled = false
                if isMobile then
                    if TextDisplay then TextDisplay.Enabled = false end
                    if LifeDisplay then LifeDisplay.Enabled = false end
                else
                    if TextDisplay then TextDisplay.Visible = false end
                    if LifeDisplay then LifeDisplay.Visible = false end
                end
            end
        end)
        
        ESPStorage.Players[plr] = {
            Highlight = Highlight,
            TextDisplay = TextDisplay,
            LifeDisplay = LifeDisplay,
            Connection = connection,
            IsMobile = isMobile
        }
        
        plr.AncestryChanged:Connect(function()
            if not plr.Parent then
                local data = ESPStorage.Players[plr]
                if data then
                    data.Connection:Disconnect()
                    data.Highlight:Destroy()
                    if data.IsMobile then
                        if data.TextDisplay then
                            data.TextDisplay:Destroy()
                        end
                        if data.LifeDisplay then
                            data.LifeDisplay:Destroy()
                        end
                    else
                        if data.TextDisplay then 
                            pcall(function() data.TextDisplay:Remove() end)
                        end
                        if data.LifeDisplay then
                            pcall(function() data.LifeDisplay:Remove() end)
                        end
                    end
                    ESPStorage.Players[plr] = nil
                end
            end
        end)
    end

    local function InitializeUniversalESP()
        for _, player in pairs(Players:GetPlayers()) do 
            if player ~= LocalPlayer then 
                CreateUniversalESP(player) 
            end 
        end

        Players.PlayerAdded:Connect(function(player)
            task.wait(1)
            if player ~= LocalPlayer then
                CreateUniversalESP(player)
            end
        end)
    end

    local function GetRarityColor(model)
        local n = model.Name:lower()
        if n:find("direwolf") or n:find("legendary") then 
            return Color3.fromRGB(255, 215, 0)
        end
        if n:find("rare") then 
            return Color3.fromRGB(255, 0, 0)
        end
        if n:find("uncommon") then 
            return Color3.fromRGB(0, 255, 255)
        end
        return Color3.fromRGB(200, 200, 200)
    end

    local function GetCleanName(model)
        local n = model.Name:gsub("%[Wild%]", ""):gsub("%[wild%]", ""):split("{")[1]:match("^%s*(.-)%s*$")
        return (n == "DireWolf") and "Legendary Dire Wolf" or n
    end

    _G.AnimalBody_Active = false
    _G.AnimalNames_Active = false
    _G.AnimalDist_Active = false

    local AnimalBodyConnection = nil
    local AnimalNamesConnection = nil
    local AnimalDistConnection = nil

    local function CleanupAnimalESP()
        if AnimalBodyConnection then
            AnimalBodyConnection:Disconnect()
            AnimalBodyConnection = nil
        end
        
        if AnimalNamesConnection then
            AnimalNamesConnection:Disconnect()
            AnimalNamesConnection = nil
        end
        
        if AnimalDistConnection then
            AnimalDistConnection:Disconnect()
            AnimalDistConnection = nil
        end
        
        local folder = Workspace:FindFirstChild("Animals")
        if folder then
            for _, animal in pairs(folder:GetChildren()) do
                if animal:IsA("Model") then
                    if animal:FindFirstChild("TRXSH_B") then
                        animal.TRXSH_B:Destroy()
                    end
                    if animal:FindFirstChild("TRXSH_ESP") then
                        animal.TRXSH_ESP:Destroy()
                    end
                end
            end
        end
    end

    local function ToggleAnimalBody(enabled)
        _G.AnimalBody_Active = enabled
        AnimalESP_Enabled = enabled
        
        if AnimalBodyConnection then
            AnimalBodyConnection:Disconnect()
            AnimalBodyConnection = nil
        end
        
        if enabled then
            AnimalBodyConnection = RunService.Heartbeat:Connect(function()
                local folder = Workspace:FindFirstChild("Animals")
                if not folder then return end
                
                for _, animal in pairs(folder:GetChildren()) do
                    if _G.AnimalBody_Active and animal:IsA("Model") then
                        if not animal:FindFirstChild("TRXSH_B") then
                            local h = Instance.new("Highlight")
                            h.Name = "TRXSH_B"
                            h.FillColor = GetRarityColor(animal)
                            h.FillTransparency = 0.4
                            h.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                            h.OutlineColor = Color3.fromRGB(255, 255, 255)
                            h.OutlineTransparency = 0
                            h.Parent = animal
                        end
                    else
                        if animal:FindFirstChild("TRXSH_B") then 
                            animal.TRXSH_B:Destroy() 
                        end
                    end
                end
            end)
        else
            local folder = Workspace:FindFirstChild("Animals")
            if folder then
                for _, animal in pairs(folder:GetChildren()) do
                    if animal:FindFirstChild("TRXSH_B") then 
                        animal.TRXSH_B:Destroy() 
                    end
                end
            end
        end
    end

    local function ToggleAnimalNames(enabled)
        _G.AnimalNames_Active = enabled
        AnimalESP_Names_Enabled = enabled
        
        if AnimalNamesConnection then
            AnimalNamesConnection:Disconnect()
            AnimalNamesConnection = nil
        end
        
        if enabled then
            AnimalNamesConnection = RunService.Heartbeat:Connect(function()
                local folder = Workspace:FindFirstChild("Animals")
                if not folder then return end
                
                for _, animal in pairs(folder:GetChildren()) do
                    if _G.AnimalNames_Active and animal:IsA("Model") then
                        local root = animal.PrimaryPart or animal:FindFirstChildWhichIsA("BasePart")
                        if root then
                            local b = animal:FindFirstChild("TRXSH_ESP")
                            if not b then
                                b = Instance.new("BillboardGui")
                                b.Name = "TRXSH_ESP"
                                b.AlwaysOnTop = true
                                b.Size = UDim2.new(0, 200, 0, 50)
                                b.StudsOffset = Vector3.new(0, 3, 0)
                                b.Adornee = root
                                b.Parent = animal
                            end
                            
                            local l = b:FindFirstChild("NameLabel")
                            if not l then
                                l = Instance.new("TextLabel")
                                l.Name = "NameLabel"
                                l.BackgroundTransparency = 1
                                l.Size = UDim2.new(1, 0, 0.5, 0)
                                l.Position = UDim2.new(0, 0, 0, 0)
                                l.TextColor3 = GetRarityColor(animal)
                                l.Font = Enum.Font.SourceSansBold
                                l.TextSize = 18
                                l.TextStrokeTransparency = 0
                                l.Parent = b
                            end
                            l.Text = GetCleanName(animal)
                        end
                    else
                        local b = animal:FindFirstChild("TRXSH_ESP")
                        if b and b:FindFirstChild("NameLabel") then 
                            b.NameLabel:Destroy() 
                        end
                        if b and not b:FindFirstChildWhichIsA("TextLabel") then 
                            b:Destroy() 
                        end
                    end
                end
            end)
        else
            local folder = Workspace:FindFirstChild("Animals")
            if folder then
                for _, animal in pairs(folder:GetChildren()) do
                    local b = animal:FindFirstChild("TRXSH_ESP")
                    if b and b:FindFirstChild("NameLabel") then 
                        b.NameLabel:Destroy() 
                    end
                    if b and not b:FindFirstChildWhichIsA("TextLabel") then 
                        b:Destroy() 
                    end
                end
            end
        end
    end

    local function ToggleAnimalDistance(enabled)
        _G.AnimalDist_Active = enabled
        AnimalESP_Distance_Enabled = enabled
        
        if AnimalDistConnection then
            AnimalDistConnection:Disconnect()
            AnimalDistConnection = nil
        end
        
        if enabled then
            AnimalDistConnection = RunService.Heartbeat:Connect(function()
                local folder = Workspace:FindFirstChild("Animals")
                if not folder then return end
                
                for _, animal in pairs(folder:GetChildren()) do
                    if _G.AnimalDist_Active and animal:IsA("Model") then
                        local root = animal.PrimaryPart or animal:FindFirstChildWhichIsA("BasePart")
                        if root then
                            local b = animal:FindFirstChild("TRXSH_ESP")
                            if not b then
                                b = Instance.new("BillboardGui")
                                b.Name = "TRXSH_ESP"
                                b.AlwaysOnTop = true
                                b.Size = UDim2.new(0, 200, 0, 50)
                                b.StudsOffset = Vector3.new(0, 3, 0)
                                b.Adornee = root
                                b.Parent = animal
                            end
                            
                            local d = b:FindFirstChild("DistLabel")
                            if not d then
                                d = Instance.new("TextLabel")
                                d.Name = "DistLabel"
                                d.BackgroundTransparency = 1
                                d.Size = UDim2.new(1, 0, 0.5, 0)
                                d.Position = UDim2.new(0, 0, 0.5, 0)
                                d.TextColor3 = Color3.fromRGB(255, 255, 255)
                                d.Font = Enum.Font.SourceSansBold
                                d.TextSize = 14
                                d.TextStrokeTransparency = 0.5
                                d.Parent = b
                            end
                            
                            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                                local dist = math.floor((LocalPlayer.Character.HumanoidRootPart.Position - root.Position).Magnitude)
                                d.Text = "[" .. dist .. "m]"
                            end
                        end
                    else
                        local b = animal:FindFirstChild("TRXSH_ESP")
                        if b and b:FindFirstChild("DistLabel") then 
                            b.DistLabel:Destroy() 
                        end
                        if b and not b:FindFirstChildWhichIsA("TextLabel") then 
                            b:Destroy() 
                        end
                    end
                end
            end)
        else
            local folder = Workspace:FindFirstChild("Animals")
            if folder then
                for _, animal in pairs(folder:GetChildren()) do
                    local b = animal:FindFirstChild("TRXSH_ESP")
                    if b and b:FindFirstChild("DistLabel") then 
                        b.DistLabel:Destroy() 
                    end
                    if b and not b:FindFirstChildWhichIsA("TextLabel") then 
                        b:Destroy() 
                    end
                end
            end
        end
    end

    local function ApplyOverpowerGuns()
        if not ReplicatedStorage:FindFirstChild("GunScripts") then
            return false
        end
        
        local gunStats = ReplicatedStorage.GunScripts:FindFirstChild("GunStats")
        if not gunStats then
            return false
        end
        
        local success, v1 = pcall(function()
            return require(gunStats)
        end)
        
        if not success or type(v1) ~= "table" then
            return false
        end
        
        if not OriginalGunStats then
            OriginalGunStats = {}
            for name, stats in pairs(v1) do
                if type(stats) == "table" then
                    OriginalGunStats[name] = {}
                    for k, v in pairs(stats) do
                        OriginalGunStats[name][k] = v
                    end
                end
            end
        end
        
        local FastFireStats = {
            ["Colt .45"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Henry Rifle"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 8000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Sawed-Off Shotgun"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["BulletCount"] = 15, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Double Barrel Shotgun"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["BulletCount"] = 15, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Schofield Revolver"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Sharps Rifle"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 10000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Gold Buffalo Rifle"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 10000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Volcanic Pistol"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Winchester Rifle"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 8000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["LeMat Revolver"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Mauser Pistol"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 6000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Bow"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 3000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Pump-action Shotgun"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["BulletCount"] = 15, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Colt Navy"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Mosin-Nagant"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 10000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Gold Mosin"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 10000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Bergmann No. 3"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 6000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Colt 1911"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 6000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Double-Action Revolver"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Mondragon"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 9000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Gold Mondragon"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 9000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Joalland Pistol"] = {["Damage"] = 120, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 6000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Winchester Model 94"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 8000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Colt Lightning"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 8000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Remington"] = {["Damage"] = 95, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Gold Remington"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 5000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0},
            ["Martini-Henry"] = {["Damage"] = 100, ["prepTime"] = 0.01, ["ReloadSpeed"] = 0.01, ["BulletSpeed"] = 10000, ["HipFireAccuracy"] = 0, ["ZoomAccuracy"] = 0, ["AutoFire"] = true, ["camShakeResist"] = 10000, ["equipTime"] = 0.01, ["EquipDelay"] = 0, ["Spread"] = 0}
        }

        for name, stats in pairs(FastFireStats) do
            if v1[name] then 
                for k, v in pairs(stats) do 
                    v1[name][k] = v 
                end 
            end
        end

        v1["Ornate Winchester"] = v1["Winchester Rifle"]
        v1["Ornate Colt"] = v1["Colt .45"]
        v1["Gold Schofield"] = v1["Schofield Revolver"]
        v1["Engraved Double-Action"] = v1["Double-Action Revolver"]
        v1["Volcanic Model 94"] = v1["Winchester Model 94"]
        v1["Volcanic Remington"] = v1.Remington
        v1["Winter's Bounty"] = v1["Gold Buffalo Rifle"]
        v1["Dark Colt Navy"] = v1["Colt Navy"]
        v1["Dark Mosin"] = v1["Mosin-Nagant"]
        v1["Ice Winchester 94"] = v1["Winchester Model 94"]
        v1.Flintlock = v1["Joalland Pistol"]
        v1.Musket = v1["Martini-Henry"]
        v1["Ice Mosin"] = v1["Mosin-Nagant"]
        v1["Maple Bow"] = v1.Bow
        
        return true
    end

    local function RestoreOriginalGuns()
        if not OriginalGunStats or not ReplicatedStorage:FindFirstChild("GunScripts") then
            return false
        end
        
        local gunStats = ReplicatedStorage.GunScripts:FindFirstChild("GunStats")
        if not gunStats then return false end
        
        local success, v1 = pcall(function()
            return require(gunStats)
        end)
        
        if not success or type(v1) ~= "table" then
            return false
        end
        
        for name, originalStats in pairs(OriginalGunStats) do
            if v1[name] then
                for k, v in pairs(originalStats) do
                    v1[name][k] = v
                end
            end
        end
        
        return true
    end

    local function ToggleOverpowerGuns(enabled)
        OverpowerGunsEnabled = enabled
        if enabled then
            local success = ApplyOverpowerGuns()
        else
            RestoreOriginalGuns()
        end
    end

    local MainFrame = nil
    local MobileMinimizeButton = nil

    local function CreateMobileMinimizeButton()
        if MobileMinimizeButton then
            MobileMinimizeButton:Destroy()
            MobileMinimizeButton = nil
        end
        
        MobileMinimizeButton = Instance.new("TextButton")
        MobileMinimizeButton.Name = "MobileMinimizeButton"
        MobileMinimizeButton.Size = UDim2.new(0, 60, 0, 60)
        MobileMinimizeButton.Position = UDim2.new(0.92, 0, 0.08, 0)
        MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        MobileMinimizeButton.Text = "V"
        MobileMinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        MobileMinimizeButton.Font = Enum.Font.SourceSansBold
        MobileMinimizeButton.TextSize = 24
        MobileMinimizeButton.ZIndex = 1000
        MobileMinimizeButton.Parent = ScreenGui
        AddCorner(MobileMinimizeButton, UDim.new(1, 0))
        
        local StatusLabel = Instance.new("TextLabel")
        StatusLabel.Name = "StatusLabel"
        StatusLabel.Size = UDim2.new(1, 0, 0.3, 0)
        StatusLabel.Position = UDim2.new(0, 0, 0.7, 0)
        StatusLabel.BackgroundTransparency = 1
        StatusLabel.Text = "HIDE"
        StatusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        StatusLabel.Font = Enum.Font.SourceSansBold
        StatusLabel.TextSize = 10
        StatusLabel.Parent = MobileMinimizeButton
        
        local dragging = false
        local dragInput, dragStart, startPos
        
        MobileMinimizeButton.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStart = input.Position
                startPos = MobileMinimizeButton.Position
                
                MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
                
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then
                        dragging = false
                        if MainFrame and MainFrame.Visible then
                            MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
                        else
                            MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                        end
                    end
                end)
            end
        end)
        
        MobileMinimizeButton.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
                dragInput = input
            end
        end)
        
        if UserInputService then
            UserInputService.InputChanged:Connect(function(input)
                if dragging and (input == dragInput) then
                    local delta = input.Position - dragStart
                    local newX = math.clamp(startPos.X.Offset + delta.X, 0, ScreenGui.AbsoluteSize.X - 60)
                    local newY = math.clamp(startPos.Y.Offset + delta.Y, 0, ScreenGui.AbsoluteSize.Y - 60)
                    MobileMinimizeButton.Position = UDim2.new(0, newX, 0, newY)
                end
            end)
        end
        
        MobileMinimizeButton.MouseButton1Click:Connect(function()
            if MainFrame and MainFrame.Visible then
                MainFrame.Visible = false
                MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                StatusLabel.Text = "SHOW"
            else
                if MainFrame then
                    MainFrame.Visible = true
                end
                MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
                StatusLabel.Text = "HIDE"
            end
        end)
        
        return MobileMinimizeButton
    end

    local function ToggleAntiFallDamage(enabled)
        local Player = game.Players.LocalPlayer
        local Character = Player.Character or Player.CharacterAdded:Wait()

        local oldNC
        oldNC = hookmetamethod(game, "__namecall", function(self, ...)
            local method = getnamecallmethod()
            local args = {...}
            
            if method == "FireServer" and self.Name == "ChangeCharacter" and args[1] == "Damage" then
                args[2] = 0 
                return oldNC(self, unpack(args))
            end
            
            return oldNC(self, ...)
        end)
    end

    -- CRIAR PAINEL PRINCIPAL COM DIMENS√ïES RESPONSIVAS
    MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = ScreenGui
    MainFrame.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
    
    if isMobile then
        -- Dimens√µes responsivas para mobile
        local width = math.min(380, screenSize.X * 0.95)
        local height = math.min(420, screenSize.Y * 0.85)
        MainFrame.Size = UDim2.new(0, width, 0, height)
        MainFrame.Position = UDim2.new(0.5, -width/2, 0.5, -height/2)
    else
        MainFrame.Size = UDim2.new(0, 600, 0, 400)
        MainFrame.Position = UDim2.new(0.3, 0, 0.25, 0)
    end
    
    MainFrame.Active = true
    MainFrame.Draggable = true
    AddCorner(MainFrame, UDim.new(0, 10))
    
    local MStroke = Instance.new("UIStroke")
    MStroke.Thickness = 2
    MStroke.Color = Color3.fromRGB(45, 45, 45)
    MStroke.Parent = MainFrame

    local Title = Instance.new("TextLabel")
    Title.Parent = MainFrame
    Title.Text = "V3NENO HUB - WESTBOUND"
    Title.TextColor3 = Color3.fromRGB(255, 0, 0)
    if isMobile then
        Title.TextSize = 14
        Title.Position = UDim2.new(0.05, 0, 0, 8)
        Title.Size = UDim2.new(0.5, 0, 0, 25)
    else
        Title.TextSize = 16
        Title.Position = UDim2.new(0.05, 0, 0, 10)
        Title.Size = UDim2.new(0.6, 0, 0, 30)
    end
    Title.Font = Enum.Font.SourceSansBold
    Title.BackgroundTransparency = 1
    Title.TextXAlignment = Enum.TextXAlignment.Left

    local TimerContainer = Instance.new("Frame")
    TimerContainer.Parent = MainFrame
    if isMobile then
        TimerContainer.Size = UDim2.new(0, 80, 0, 22)
        TimerContainer.Position = UDim2.new(0.7, 0, 0.02, 0)
    else
        TimerContainer.Size = UDim2.new(0, 90, 0, 24)
        TimerContainer.Position = UDim2.new(0.75, 0, 0.02, 0)
    end
    TimerContainer.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    TimerContainer.BackgroundTransparency = 0.5
    AddCorner(TimerContainer, UDim.new(0, 4))

    local TimerLabel = Instance.new("TextLabel")
    TimerLabel.Parent = TimerContainer
    TimerLabel.Size = UDim2.new(1, 0, 1, 0)
    TimerLabel.BackgroundTransparency = 1
    TimerLabel.TextColor3 = Color3.fromRGB(150, 255, 150)
    TimerLabel.Font = Enum.Font.Code
    if isMobile then
        TimerLabel.TextSize = 10
    else
        TimerLabel.TextSize = 11
    end
    TimerLabel.Text = "00:00:00"

    local timerConnection = RunService.RenderStepped:Connect(function()
        local seconds = os.time() - StartTime
        local h = math.floor(seconds / 3600)
        local m = math.floor((seconds % 3600) / 60)
        local s = seconds % 60
        TimerLabel.Text = string.format("%02d:%02d:%02d", h, m, s)
    end)
    table.insert(ActiveConnections, timerConnection)

    local SideBar = Instance.new("Frame")
    SideBar.Parent = MainFrame
    SideBar.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
    SideBar.Position = UDim2.new(0.02, 0, 0.15, 0)
    if isMobile then
        SideBar.Size = UDim2.new(0.25, 0, 0, 260)
    else
        SideBar.Size = UDim2.new(0, 140, 0, 255)
    end
    AddCorner(SideBar)

    local SideLayout = Instance.new("UIListLayout")
    SideLayout.Parent = SideBar
    if isMobile then
        SideLayout.Padding = UDim.new(0, 1)
    else
        SideLayout.Padding = UDim.new(0, 2)
    end
    SideLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

    local ContentHolder = Instance.new("Frame")
    ContentHolder.Parent = MainFrame
    ContentHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
    if isMobile then
        ContentHolder.Position = UDim2.new(0.28, 0, 0.15, 0)
        ContentHolder.Size = UDim2.new(0.68, 0, 0, 260)
    else
        ContentHolder.Position = UDim2.new(0.28, 0, 0.15, 0)
        ContentHolder.Size = UDim2.new(0, 410, 0, 325)
    end
    AddCorner(ContentHolder)

    local Pages = {}
    local function CreatePage(name)
        local Page = Instance.new("ScrollingFrame")
        Page.Name = name .. "Page"
        Page.Parent = ContentHolder
        Page.Size = UDim2.new(1, 0, 1, 0)
        Page.BackgroundTransparency = 1
        Page.Visible = false
        if isMobile then
            Page.ScrollBarThickness = 2
        else
            Page.ScrollBarThickness = 3
        end
        Page.CanvasSize = UDim2.new(0, 0, 0, 0)
        Page.ScrollingDirection = Enum.ScrollingDirection.Y
        Page.ScrollBarImageColor3 = Color3.fromRGB(255, 0, 0)
        
        local List = Instance.new("UIListLayout")
        List.Parent = Page
        if isMobile then
            List.Padding = UDim.new(0, 8)
        else
            List.Padding = UDim.new(0, 10)
        end
        List.HorizontalAlignment = Enum.HorizontalAlignment.Center
        List.SortOrder = Enum.SortOrder.LayoutOrder
        
        List:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            Page.CanvasSize = UDim2.new(0, 0, 0, List.AbsoluteContentSize.Y + 10)
        end)
        
        Pages[name] = Page
        return Page
    end

    local PVP_Page = CreatePage("PVP")
    local VIS_Page = CreatePage("VISUALS")
    local MISC_Page = CreatePage("MISC")
    local SET_Page = CreatePage("SETTINGS")
    local DC_Page = CreatePage("DISCORD")
    local SITE_Page = CreatePage("SITE")
    local CREDITS_Page = CreatePage("CREDITS")
    PVP_Page.Visible = true

    local function CreateSection(page, text)
        local Frame = Instance.new("Frame")
        if isMobile then
            Frame.Size = UDim2.new(0.95, 0, 0, 24)
        else
            Frame.Size = UDim2.new(0.95, 0, 0, 28)
        end
        Frame.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        Frame.Parent = page
        Frame.LayoutOrder = page:GetChildren() and #page:GetChildren() or 0
        AddCorner(Frame, UDim.new(0, 4))
        
        local Lab = Instance.new("TextLabel")
        Lab.Size = UDim2.new(1, 0, 1, 0)
        Lab.BackgroundTransparency = 1
        Lab.Text = text:upper()
        Lab.TextColor3 = Color3.fromRGB(255, 255, 255)
        Lab.Font = Enum.Font.SourceSansBold
        if isMobile then
            Lab.TextSize = 11
        else
            Lab.TextSize = 13
        end
        Lab.Parent = Frame
        
        return Frame
    end

    local function NewButton(page, text, callback)
        local btn = Instance.new("TextButton")
        if isMobile then
            btn.Size = UDim2.new(0.9, 0, 0, 38)
            btn.TextSize = 12
        else
            btn.Size = UDim2.new(0.9, 0, 0, 42)
            btn.TextSize = 14
        end
        btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        btn.Text = text
        btn.TextColor3 = Color3.fromRGB(255, 0, 0)
        btn.Font = Enum.Font.SourceSansBold
        btn.LayoutOrder = page:GetChildren() and #page:GetChildren() or 0
        btn.Parent = page
        AddCorner(btn)
        
        local function onButtonActivated()
            pcall(callback)
        end
        
        btn.MouseButton1Click:Connect(onButtonActivated)
        
        if not isMobile then
            btn.MouseEnter:Connect(function()
                btn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
            end)
            
            btn.MouseLeave:Connect(function()
                btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
            end)
        end
        
        return btn
    end

    local function NewSwitch(page, text, callback)
        local Bg = Instance.new("Frame")
        if isMobile then
            Bg.Size = UDim2.new(0.9, 0, 0, 38)
        else
            Bg.Size = UDim2.new(0.9, 0, 0, 42)
        end
        Bg.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        Bg.LayoutOrder = page:GetChildren() and #page:GetChildren() or 0
        Bg.Parent = page
        AddCorner(Bg)
        
        local Lbl = Instance.new("TextLabel")
        Lbl.Parent = Bg
        Lbl.Text = text
        Lbl.TextColor3 = Color3.fromRGB(200, 200, 200)
        Lbl.Position = UDim2.new(0.05, 0, 0, 0)
        Lbl.Size = UDim2.new(0.6, 0, 1, 0)
        Lbl.BackgroundTransparency = 1
        if isMobile then
            Lbl.TextSize = 11
        else
            Lbl.TextSize = 13
        end
        
        local Tgl = Instance.new("TextButton")
        Tgl.Parent = Bg
        if isMobile then
            Tgl.Size = UDim2.new(0, 35, 0, 18)
            Tgl.Position = UDim2.new(0.8, 0, 0.3, 0)
        else
            Tgl.Size = UDim2.new(0, 45, 0, 22)
            Tgl.Position = UDim2.new(0.82, 0, 0.24, 0)
        end
        Tgl.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        Tgl.Text = ""
        AddCorner(Tgl, UDim.new(1, 0))
        
        local Circ = Instance.new("Frame")
        Circ.Parent = Tgl
        if isMobile then
            Circ.Size = UDim2.new(0, 14, 0, 14)
            Circ.Position = UDim2.new(0.05, 0, 0.1, 0)
        else
            Circ.Size = UDim2.new(0, 18, 0, 18)
            Circ.Position = UDim2.new(0.05, 0, 0.09, 0)
        end
        Circ.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        AddCorner(Circ, UDim.new(1, 0))
        
        local act = false
        
        local function toggleSwitch()
            act = not act
            if TweenService then
                if act then
                    if isMobile then
                        TweenService:Create(Circ, TweenInfo.new(0.2), {Position = UDim2.new(0.52, 0, 0.1, 0)}):Play()
                    else
                        TweenService:Create(Circ, TweenInfo.new(0.2), {Position = UDim2.new(0.52, 0, 0.09, 0)}):Play()
                    end
                    TweenService:Create(Tgl, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(255, 0, 0)}):Play()
                else
                    if isMobile then
                        TweenService:Create(Circ, TweenInfo.new(0.2), {Position = UDim2.new(0.05, 0, 0.1, 0)}):Play()
                    else
                        TweenService:Create(Circ, TweenInfo.new(0.2), {Position = UDim2.new(0.05, 0, 0.09, 0)}):Play()
                    end
                    TweenService:Create(Tgl, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(50, 50, 50)}):Play()
                end
            else
                if isMobile then
                    Circ.Position = act and UDim2.new(0.52, 0, 0.1, 0) or UDim2.new(0.05, 0, 0.1, 0)
                else
                    Circ.Position = act and UDim2.new(0.52, 0, 0.09, 0) or UDim2.new(0.05, 0, 0.09, 0)
                end
                Tgl.BackgroundColor3 = act and Color3.fromRGB(255, 0, 0) or Color3.fromRGB(50, 50, 50)
            end
            pcall(callback, act)
        end
        
        Tgl.MouseButton1Click:Connect(toggleSwitch)
        
        return {Bg = Bg, Label = Lbl, Toggle = Tgl, Circle = Circ, State = false}
    end

    local function NewKeybind(page, text, default, callback)
        local Bg = Instance.new("Frame")
        if isMobile then
            Bg.Size = UDim2.new(0.9, 0, 0, 38)
        else
            Bg.Size = UDim2.new(0.9, 0, 0, 42)
        end
        Bg.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        Bg.LayoutOrder = page:GetChildren() and #page:GetChildren() or 0
        Bg.Parent = page
        AddCorner(Bg)
        
        local Lbl = Instance.new("TextLabel")
        Lbl.Parent = Bg
        Lbl.Text = text
        Lbl.TextColor3 = Color3.fromRGB(200, 200, 200)
        Lbl.Position = UDim2.new(0.05, 0, 0, 0)
        Lbl.Size = UDim2.new(0.6, 0, 1, 0)
        Lbl.BackgroundTransparency = 1
        if isMobile then
            Lbl.TextSize = 11
        else
            Lbl.TextSize = 13
        end
        
        local BindBtn = Instance.new("TextButton")
        BindBtn.Parent = Bg
        if isMobile then
            BindBtn.Size = UDim2.new(0, 60, 0, 22)
            BindBtn.Position = UDim2.new(0.72, 0, 0.26, 0)
            BindBtn.TextSize = 11
        else
            BindBtn.Size = UDim2.new(0, 85, 0, 26)
            BindBtn.Position = UDim2.new(0.72, 0, 0.19, 0)
            BindBtn.TextSize = 13
        end
        BindBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
        BindBtn.Text = default.Name
        BindBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
        BindBtn.Font = Enum.Font.SourceSansBold
        AddCorner(BindBtn)
        
        local function onBindClick()
            BindBtn.Text = "..."
            local connection
            connection = UserInputService.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.Keyboard then
                    BindBtn.Text = input.KeyCode.Name
                    pcall(callback, input.KeyCode)
                    connection:Disconnect()
                end
            end)
        end
        
        BindBtn.MouseButton1Click:Connect(onBindClick)
        
        return BindBtn
    end

    local function NewSlider(page, text, min, max, default, callback)
        local Bg = Instance.new("Frame")
        if isMobile then
            Bg.Size = UDim2.new(0.9, 0, 0, 50)
        else
            Bg.Size = UDim2.new(0.9, 0, 0, 55)
        end
        Bg.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        Bg.LayoutOrder = page:GetChildren() and #page:GetChildren() or 0
        Bg.Parent = page
        AddCorner(Bg)
        
        local Lbl = Instance.new("TextLabel")
        Lbl.Parent = Bg
        Lbl.Text = text .. ": " .. default
        Lbl.TextColor3 = Color3.fromRGB(200, 200, 200)
        Lbl.Position = UDim2.new(0, 0, 0, 5)
        Lbl.Size = UDim2.new(1, 0, 0, 20)
        Lbl.BackgroundTransparency = 1
        if isMobile then
            Lbl.TextSize = 11
        else
            Lbl.TextSize = 13
        end
        
        local SliderBar = Instance.new("TextButton")
        SliderBar.Parent = Bg
        SliderBar.Size = UDim2.new(0.85, 0, 0, 7)
        SliderBar.Position = UDim2.new(0.075, 0, 0.65, 0)
        SliderBar.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
        SliderBar.Text = ""
        AddCorner(SliderBar)
        
        local Fill = Instance.new("Frame")
        Fill.Parent = SliderBar
        Fill.Size = UDim2.new((default - min) / (max - min), 0, 1, 0)
        Fill.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
        AddCorner(Fill)
        
        local function updateSlider(input)
            local pos = math.clamp((input.Position.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
            Fill.Size = UDim2.new(pos, 0, 1, 0)
            local val = math.floor(min + (max - min) * pos)
            Lbl.Text = text .. ": " .. val
            pcall(callback, val)
        end
        
        if isMobile and UserInputService then
            SliderBar.TouchStarted:Connect(function()
                local moveConnection
                moveConnection = UserInputService.TouchMoved:Connect(function(input)
                    updateSlider(input)
                end)
                
                local endConnection
                endConnection = UserInputService.TouchEnded:Connect(function()
                    moveConnection:Disconnect()
                    endConnection:Disconnect()
                end)
            end)
        end
        
        SliderBar.MouseButton1Down:Connect(function()
            local move = UserInputService.InputChanged:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseMovement then
                    updateSlider(input)
                end
            end)
            
            local release
            release = UserInputService.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    move:Disconnect()
                    release:Disconnect()
                end
            end)
        end)
    end

    CreateSection(PVP_Page, "Guns Mods")

    NewSwitch(PVP_Page, "OVER POWER GUNS MOD", function(s)
        ToggleOverpowerGuns(s)
    end)

    local InfoText = Instance.new("TextLabel")
    InfoText.Size = UDim2.new(0.9, 0, 0, 30)
    InfoText.BackgroundTransparency = 1
    InfoText.Text = "[USE AT YOUR OWN RISK]"
    InfoText.TextColor3 = Color3.fromRGB(255, 50, 50)
    InfoText.Font = Enum.Font.SourceSansItalic
    if isMobile then
        InfoText.TextSize = 10
    else
        InfoText.TextSize = 12
    end
    InfoText.LayoutOrder = PVP_Page:GetChildren() and #PVP_Page:GetChildren() or 0
    InfoText.Parent = PVP_Page

    CreateSection(PVP_Page, "Aimbot Settings")

    SetupAimbotInInterface(PVP_Page, nil, NewSwitch, NewKeybind, NewSlider)

    CreateSection(PVP_Page, "Autofarm System")

    local FarmInfo = Instance.new("TextLabel")
    if isMobile then
        FarmInfo.Size = UDim2.new(0.9, 0, 0, 100)
        FarmInfo.TextSize = 10
    else
        FarmInfo.Size = UDim2.new(0.9, 0, 0, 130)
        FarmInfo.TextSize = 12
    end
    FarmInfo.BackgroundTransparency = 1
    FarmInfo.TextColor3 = Color3.fromRGB(160, 160, 160)
    FarmInfo.Text = [[
1. CLICK 'AUTO FARM MONEY' BUTTON BELOW
2. NEW PANEL WILL OPEN - CLICK 'START'
3. WALK AROUND ONCE IN YOUR GAME
4. RESET YOUR CHARACTER
5. IF IT DOESN'T WORK: LEAVE GAME & REPEAT 
]]
    FarmInfo.Font = Enum.Font.SourceSansBold
    FarmInfo.TextWrapped = true
    FarmInfo.LayoutOrder = PVP_Page:GetChildren() and #PVP_Page:GetChildren() or 0
    FarmInfo.Parent = PVP_Page

    local AutoFarmBtn = Instance.new("TextButton")
    if isMobile then
        AutoFarmBtn.Size = UDim2.new(0.9, 0, 0, 38)
        AutoFarmBtn.TextSize = 12
    else
        AutoFarmBtn.Size = UDim2.new(0.9, 0, 0, 42)
        AutoFarmBtn.TextSize = 14
    end
    AutoFarmBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
    AutoFarmBtn.Text = "PATCHED"
    AutoFarmBtn.TextColor3 = Color3.fromRGB(150, 150, 150)
    AutoFarmBtn.Font = Enum.Font.SourceSansBold
    AutoFarmBtn.LayoutOrder = PVP_Page:GetChildren() and #PVP_Page:GetChildren() or 0
    AutoFarmBtn.Parent = PVP_Page
    AutoFarmBtn.AutoButtonColor = false
    AddCorner(AutoFarmBtn)

    CreateSection(VIS_Page, "ESP PLAYERS")

    NewSwitch(VIS_Page, "ESP BODY", function(s)
        ESP_Body_Enabled = s
    end)

    NewSwitch(VIS_Page, "PLAYER NAMES", function(s)
        ESP_Names_Enabled = s
    end)

    NewSwitch(VIS_Page, "DISTANCE INFO", function(s)
        ESP_Distance_Enabled = s
    end)

    NewSwitch(VIS_Page, "ESP LIFE PLAYER", function(s)
        ESP_Life_Enabled = s
    end)

    InitializeUniversalESP()

    CreateSection(VIS_Page, "ESP ANIMALS")

    NewSwitch(VIS_Page, "ANIMAL ESP BODY", function(s)
        ToggleAnimalBody(s)
    end)

    NewSwitch(VIS_Page, "ANIMAL NAMES", function(s)
        ToggleAnimalNames(s)
    end)

    NewSwitch(VIS_Page, "ANIMAL DISTANCE", function(s)
        ToggleAnimalDistance(s)
    end)

    CreateSection(MISC_Page, "LASSO MODS")

    local function ToggleAntiLasso(enabled)
        if enabled then
            loadstring(game:HttpGet("https://raw.githubusercontent.com/v3nenohub/anti-la-o-westbound/refs/heads/main/ANTI%20LA%C3%87O%20WEST%20BOUND"))()
        end
    end

    local function ToggleAntiBreakFree(enabled)
        if enabled then
            loadstring(game:HttpGet("https://raw.githubusercontent.com/v3nenohub/anti-break-free-westbound/refs/heads/main/ANTI%20BREAK%20FREE%20WESTBOUND"))()
        end
    end

    NewSwitch(MISC_Page, "ANTI LASSO", function(s)
        ToggleAntiLasso(s)
    end)

    NewSwitch(MISC_Page, "ANTI BREAK FREE", function(s)
        ToggleAntiBreakFree(s)
    end)

    CreateSection(MISC_Page, "PLAYER MODS")

    NewSwitch(MISC_Page, "ANTI FALL DAMAGE", function(s)
        ToggleAntiFallDamage(s)
    end)

    NewButton(MISC_Page, "AURA ROB", function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/v3nenohub/aurarobwestbound/refs/heads/main/aurarobwestbound"))()
    end)

    CreateSection(MISC_Page, "MANSION FEATURES")

    local WarningText = Instance.new("TextLabel")
    if isMobile then
        WarningText.Size = UDim2.new(0.9, 0, 0, 35)
        WarningText.TextSize = 10
    else
        WarningText.Size = UDim2.new(0.9, 0, 0, 40)
        WarningText.TextSize = 12
    end
    WarningText.BackgroundTransparency = 1
    WarningText.Text = "[USE AT YOUR OWN RISK]\nAlways use in places near the mansion\nto avoid deaths and possible kicks"
    WarningText.TextColor3 = Color3.fromRGB(255, 50, 50)
    WarningText.Font = Enum.Font.SourceSansItalic
    WarningText.TextWrapped = true
    WarningText.LayoutOrder = MISC_Page:GetChildren() and #MISC_Page:GetChildren() or 0
    WarningText.Parent = MISC_Page

    local AutoTPMansion_Enabled = false
    
    local function ToggleAutoTPMansion(enabled)
        AutoTPMansion_Enabled = enabled
        
        if enabled then
            loadstring(game:HttpGet("https://raw.githubusercontent.com/v3nenohub/auto-tp-mansio-westbound/refs/heads/main/AUTO%20TP%20MANSIO%20WESTBOUND"))()
        end
    end

    NewSwitch(MISC_Page, "AUTO TP MANSION", function(s)
        ToggleAutoTPMansion(s)
    end)

    local ESPBestJewelry_Enabled = false
    
    local function ToggleESPBestJewelry(enabled)
        ESPBestJewelry_Enabled = enabled
        
        if enabled then
            loadstring(game:HttpGet("https://raw.githubusercontent.com/v3nenohub/ESP-JOIAS-WESTBOUND-MANSION/refs/heads/main/ESP%20JOIAS%20WESTBOUND%20MANSION"))()
        end
    end

    NewSwitch(MISC_Page, "ESP BEST JEWELRY", function(s)
        ToggleESPBestJewelry(s)
    end)

    CreateSection(SET_Page, "UI CONFIGURATION")

    local TipLabel = Instance.new("TextLabel")
    if isMobile then
        TipLabel.Size = UDim2.new(0.9, 0, 0, 45)
        TipLabel.TextSize = 10
    else
        TipLabel.Size = UDim2.new(0.9, 0, 0, 50)
        TipLabel.TextSize = 14
    end
    TipLabel.BackgroundTransparency = 1
    TipLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
    TipLabel.Text = "Default toggle key: Left Control\nPress to show/hide the panel"
    TipLabel.Font = Enum.Font.SourceSansItalic
    TipLabel.TextWrapped = true
    TipLabel.LayoutOrder = SET_Page:GetChildren() and #SET_Page:GetChildren() or 0
    TipLabel.Parent = SET_Page

    NewKeybind(SET_Page, "CHANGE TOGGLE KEY", ToggleKey, function(k)
        ToggleKey = k
    end)

    CreateSection(SET_Page, "MOBILE FEATURES")
    
    NewSwitch(SET_Page, "MOBILE MINIMIZE PANEL", function(s)
        if s and isMobile then
            MobileMinimizeButton = CreateMobileMinimizeButton()
            MobileMinimizeButton.MouseButton1Click:Connect(function()
                MainFrame.Visible = not MainFrame.Visible
                if MobileMinimizeButton then
                    if MainFrame.Visible then
                        MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
                        MobileMinimizeButton:FindFirstChild("StatusLabel").Text = "HIDE"
                    else
                        MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                        MobileMinimizeButton:FindFirstChild("StatusLabel").Text = "SHOW"
                    end
                end
            end)
        else
            if MobileMinimizeButton then
                MobileMinimizeButton:Destroy()
                MobileMinimizeButton = nil
            end
            if MainFrame then
                MainFrame.Visible = true
            end
        end
    end)

    CreateSection(DC_Page, "COMMUNITY V3NENO HUB")
    
    local DiscordInfo = Instance.new("TextLabel")
    if isMobile then
        DiscordInfo.Size = UDim2.new(0.9, 0, 0, 80)
        DiscordInfo.TextSize = 10
    else
        DiscordInfo.Size = UDim2.new(0.9, 0, 0, 100)
        DiscordInfo.TextSize = 14
    end
    DiscordInfo.BackgroundTransparency = 1
    DiscordInfo.TextColor3 = Color3.fromRGB(180, 180, 180)
    DiscordInfo.Text = "Join our global Roblox community! Everyone is welcome to be part of our family. Follow community rules, maintain friendly environment."
    DiscordInfo.Font = Enum.Font.SourceSansItalic
    DiscordInfo.TextWrapped = true
    DiscordInfo.LayoutOrder = DC_Page:GetChildren() and #DC_Page:GetChildren() or 0
    DiscordInfo.Parent = DC_Page
    
    local DiscordBtn = NewButton(DC_Page, "COPY DISCORD LINK", function()
        pcall(function()
            setclipboard("https://discord.gg/3JSw8fDQbu")
        end)
    end)

    CreateSection(SITE_Page, "COMMUNITY V3NENO HUB")
    
    local SiteInfo = Instance.new("TextLabel")
    if isMobile then
        SiteInfo.Size = UDim2.new(0.9, 0, 0, 80)
        SiteInfo.TextSize = 10
    else
        SiteInfo.Size = UDim2.new(0.9, 0, 0, 100)
        SiteInfo.TextSize = 14
    end
    SiteInfo.BackgroundTransparency = 1
    SiteInfo.TextColor3 = Color3.fromRGB(180, 180, 180)
    SiteInfo.Text = "Find direct links for scripts from various games, download best executors, get full access to official V3NENO HUB panel with all games integrated."
    SiteInfo.Font = Enum.Font.SourceSansItalic
    SiteInfo.TextWrapped = true
    SiteInfo.LayoutOrder = SITE_Page:GetChildren() and #SITE_Page:GetChildren() or 0
    SiteInfo.Parent = SITE_Page
    
    local SiteBtn = NewButton(SITE_Page, "COPY WEBSITE LINK", function()
        pcall(function()
            setclipboard("https://v3nenohub.lovable.app")
        end)
    end)

    CreateSection(CREDITS_Page, "CREDITS - V3NENO HUB PANEL")

    local CreditsHeader = Instance.new("TextLabel")
    if isMobile then
        CreditsHeader.Size = UDim2.new(0.95, 0, 0, 45)
        CreditsHeader.TextSize = 18
    else
        CreditsHeader.Size = UDim2.new(0.95, 0, 0, 50)
        CreditsHeader.TextSize = 20
    end
    CreditsHeader.BackgroundTransparency = 1
    CreditsHeader.Text = "V3NENO HUB WESTBOUND PANEL"
    CreditsHeader.TextColor3 = Color3.fromRGB(255, 0, 0)
    CreditsHeader.Font = Enum.Font.SourceSansBold
    CreditsHeader.LayoutOrder = CREDITS_Page:GetChildren() and #CREDITS_Page:GetChildren() or 0
    CreditsHeader.Parent = CREDITS_Page

    local OwnerInfo = Instance.new("TextLabel")
    if isMobile then
        OwnerInfo.Size = UDim2.new(0.95, 0, 0, 25)
        OwnerInfo.TextSize = 14
    else
        OwnerInfo.Size = UDim2.new(0.95, 0, 0, 30)
        OwnerInfo.TextSize = 16
    end
    OwnerInfo.BackgroundTransparency = 1
    OwnerInfo.Text = "OWNER & DEVELOPER: HENRIQSZ7"
    OwnerInfo.TextColor3 = Color3.fromRGB(255, 255, 255)
    OwnerInfo.Font = Enum.Font.SourceSansBold
    OwnerInfo.LayoutOrder = CREDITS_Page:GetChildren() and #CREDITS_Page:GetChildren() or 0
    OwnerInfo.Parent = CREDITS_Page

    local HubInfo = Instance.new("TextLabel")
    if isMobile then
        HubInfo.Size = UDim2.new(0.95, 0, 0, 35)
        HubInfo.TextSize = 12
    else
        HubInfo.Size = UDim2.new(0.95, 0, 0, 40)
        HubInfo.TextSize = 14
    end
    HubInfo.BackgroundTransparency = 1
    HubInfo.Text = "OFFICIAL PANEL: V3NENO HUB\nVERSION: 3.0 WESTBOUND"
    HubInfo.TextColor3 = Color3.fromRGB(200, 200, 200)
    HubInfo.Font = Enum.Font.SourceSans
    HubInfo.TextWrapped = true
    HubInfo.LayoutOrder = CREDITS_Page:GetChildren() and #CREDITS_Page:GetChildren() or 0
    HubInfo.Parent = CREDITS_Page

    local ThanksFrame = Instance.new("Frame")
    if isMobile then
        ThanksFrame.Size = UDim2.new(0.95, 0, 0, 70)
    else
        ThanksFrame.Size = UDim2.new(0.95, 0, 0, 80)
    end
    ThanksFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    ThanksFrame.LayoutOrder = CREDITS_Page:GetChildren() and #CREDITS_Page:GetChildren() or 0
    ThanksFrame.Parent = CREDITS_Page
    AddCorner(ThanksFrame, UDim.new(0, 4))

    local ThanksLabel = Instance.new("TextLabel")
    ThanksLabel.Size = UDim2.new(1, -10, 1, -10)
    ThanksLabel.Position = UDim2.new(0.05, 0, 0.05, 0)
    ThanksLabel.BackgroundTransparency = 1
    ThanksLabel.Text = "THANKS FOR USING V3NENO HUB!\nSPECIAL THANKS TO OUR COMMUNITY\nAND ALL SUPPORTERS!"
    ThanksLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ThanksLabel.Font = Enum.Font.SourceSansBold
    if isMobile then
        ThanksLabel.TextSize = 10
    else
        ThanksLabel.TextSize = 12
    end
    ThanksLabel.TextWrapped = true
    ThanksLabel.Parent = ThanksFrame

    local ContactInfo = Instance.new("TextLabel")
    if isMobile then
        ContactInfo.Size = UDim2.new(0.95, 0, 0, 50)
        ContactInfo.TextSize = 12
    else
        ContactInfo.Size = UDim2.new(0.95, 0, 0, 60)
        ContactInfo.TextSize = 14
    end
    ContactInfo.BackgroundTransparency = 1
    ContactInfo.Text = "FOR SUPPORT AND UPDATES:\nJOIN OUR DISCORD SERVER\nVISIT OUR WEBSITE"
    ContactInfo.TextColor3 = Color3.fromRGB(150, 150, 255)
    ContactInfo.Font = Enum.Font.SourceSansBold
    ContactInfo.TextWrapped = true
    ContactInfo.LayoutOrder = CREDITS_Page:GetChildren() and #CREDITS_Page:GetChildren() or 0
    ContactInfo.Parent = CREDITS_Page

    local TabButtons = {}
    local function CreateTabBtn(name, order)
        local btn = Instance.new("TextButton")
        btn.Parent = SideBar
        if isMobile then
            btn.Size = UDim2.new(0.9, 0, 0, 32)
            btn.TextSize = 11
        else
            btn.Size = UDim2.new(0.9, 0, 0, 36)
            btn.TextSize = 13
        end
        btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        btn.Text = name
        btn.TextColor3 = Color3.fromRGB(200, 200, 200)
        btn.Font = Enum.Font.SourceSansBold
        btn.LayoutOrder = order
        AddCorner(btn)
        
        local function onTabClick()
            for _, p in pairs(Pages) do p.Visible = false end
            Pages[name].Visible = true
            for _, button in pairs(TabButtons) do button.TextColor3 = Color3.fromRGB(200, 200, 200) end
            btn.TextColor3 = Color3.fromRGB(255, 0, 0)
        end
        
        btn.MouseButton1Click:Connect(onTabClick)
        
        TabButtons[name] = btn
        return btn
    end

    local PVPBtn = CreateTabBtn("PVP", 1)
    PVPBtn.TextColor3 = Color3.fromRGB(255, 0, 0)
    CreateTabBtn("VISUALS", 2)
    CreateTabBtn("MISC", 3)
    CreateTabBtn("SETTINGS", 4)
    CreateTabBtn("DISCORD", 5)
    CreateTabBtn("SITE", 6)
    CreateTabBtn("CREDITS", 7)

    local UserFrame = Instance.new("Frame")
    UserFrame.Parent = MainFrame
    UserFrame.Position = UDim2.new(0.02, 0, 0.79, 0)
    if isMobile then
        UserFrame.Size = UDim2.new(0.25, 0, 0, 70)
    else
        UserFrame.Size = UDim2.new(0, 140, 0, 70)
    end
    UserFrame.BackgroundTransparency = 1

    local AvatarBack = Instance.new("Frame")
    if isMobile then
        AvatarBack.Size = UDim2.new(0, 40, 0, 40)
    else
        AvatarBack.Size = UDim2.new(0, 48, 0, 48)
    end
    AvatarBack.Position = UDim2.new(0, 0, 0.5, -AvatarBack.Size.Y.Offset/2)
    AvatarBack.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    AvatarBack.Parent = UserFrame
    AddCorner(AvatarBack, UDim.new(1, 0))

    local Img = Instance.new("ImageLabel")
    if isMobile then
        Img.Size = UDim2.new(0, 36, 0, 36)
    else
        Img.Size = UDim2.new(0, 44, 0, 44)
    end
    Img.Position = UDim2.new(0.5, -Img.Size.X.Offset/2, 0.5, -Img.Size.Y.Offset/2)
    Img.Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size420x420)
    Img.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Img.Parent = AvatarBack
    AddCorner(Img, UDim.new(1, 0))

    local Welcome = Instance.new("TextLabel")
    Welcome.Parent = UserFrame
    Welcome.Position = UDim2.new(0.42, 0, 0.28, 0)
    if isMobile then
        Welcome.Size = UDim2.new(0.55, 0, 0, 12)
        Welcome.TextSize = 10
    else
        Welcome.Size = UDim2.new(0.55, 0, 0, 15)
        Welcome.TextSize = 13
    end
    Welcome.Text = "Welcome,"
    Welcome.TextColor3 = Color3.fromRGB(150, 150, 150)
    Welcome.Font = Enum.Font.SourceSans
    Welcome.BackgroundTransparency = 1
    Welcome.TextXAlignment = Enum.TextXAlignment.Left

    local UserName = Instance.new("TextLabel")
    UserName.Parent = UserFrame
    UserName.Position = UDim2.new(0.42, 0, 0.48, 0)
    if isMobile then
        UserName.Size = UDim2.new(0.55, 0, 0, 12)
        UserName.TextSize = 11
    else
        UserName.Size = UDim2.new(0.55, 0, 0, 15)
        UserName.TextSize = 14
    end
    UserName.Text = LocalPlayer.Name
    UserName.TextColor3 = Color3.fromRGB(255, 255, 255)
    UserName.Font = Enum.Font.SourceSansBold
    UserName.BackgroundTransparency = 1
    UserName.TextXAlignment = Enum.TextXAlignment.Left

    local CloseBtn = Instance.new("TextButton")
    CloseBtn.Parent = MainFrame
    CloseBtn.Text = "X"
    if isMobile then
        CloseBtn.Size = UDim2.new(0, 26, 0, 26)
        CloseBtn.Position = UDim2.new(0.94, 0, 0.02, 0)
        CloseBtn.TextSize = 14
    else
        CloseBtn.Size = UDim2.new(0, 32, 0, 32)
        CloseBtn.Position = UDim2.new(0.97, -35, 0.02, 0)
        CloseBtn.TextSize = 18
    end
    CloseBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseBtn.Font = Enum.Font.SourceSansBold
    AddCorner(CloseBtn, UDim.new(0, 6))
    
    local function onCloseClick()
        for _, conn in pairs(ActiveConnections) do
            pcall(function() conn:Disconnect() end)
        end
        
        for _, data in pairs(ESPStorage.Players) do
            if data then
                pcall(function()
                    if data.Connection then data.Connection:Disconnect() end
                    if data.Highlight then data.Highlight:Destroy() end
                    if data.IsMobile then
                        if data.TextDisplay then
                            data.TextDisplay:Destroy()
                        end
                        if data.LifeDisplay then
                            data.LifeDisplay:Destroy()
                        end
                    else
                        if data.TextDisplay then 
                            pcall(function() data.TextDisplay:Remove() end)
                        end
                        if data.LifeDisplay then
                            pcall(function() data.LifeDisplay:Remove() end)
                        end
                    end
                end)
            end
        end
        
        CleanupAnimalESP()
        
        if AimbotMobileFloatingButton then
            AimbotMobileFloatingButton:Destroy()
            AimbotMobileFloatingButton = nil
        end
        
        if MobileMinimizeButton then
            MobileMinimizeButton:Destroy()
            MobileMinimizeButton = nil
        end
        
        CleanupAimbot()
        
        if OverpowerGunsEnabled then
            RestoreOriginalGuns()
        end
        
        ScreenGui:Destroy()
    end
    
    CloseBtn.MouseButton1Click:Connect(onCloseClick)
    
    if not isMobile then
        CloseBtn.MouseEnter:Connect(function()
            CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
            CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        end)
        
        CloseBtn.MouseLeave:Connect(function()
            CloseBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
            CloseBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        end)
    end

    local toggleConnection
    if UserInputService then
        toggleConnection = UserInputService.InputBegan:Connect(function(input, gameProcessed)
            if not gameProcessed and input.KeyCode == ToggleKey then
                MainFrame.Visible = not MainFrame.Visible
                if MobileMinimizeButton and MobileMinimizeButton:FindFirstChild("StatusLabel") then
                    if MainFrame.Visible then
                        MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
                        MobileMinimizeButton:FindFirstChild("StatusLabel").Text = "HIDE"
                    else
                        MobileMinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
                        MobileMinimizeButton:FindFirstChild("StatusLabel").Text = "SHOW"
                    end
                end
            end
        end)
        table.insert(ActiveConnections, toggleConnection)
    end
end

CreateLoginPanel()
